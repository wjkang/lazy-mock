import KoaRouter from 'koa-router'
import controllers from '../controllers/index.js'
import proxy from '../middleware/Proxy'

const router = new KoaRouter()
router
    .get('/<$ model.name $>/proxy', controllers.<$ model.name $>.<$ model.name $>Proxy)
    .get('/<$ model.name $>/paged', controllers.<$model.name $>.get<$ model.Name $>PagedList)
    .get('/<$ model.name $>/:id', controllers.<$ model.name $>.get<$ model.Name $>)
    .del('/<$ model.name $>/del', controllers.<$ model.name $>.del<$ model.Name $>)
    .del('/<$ model.name $>/batchdel', controllers.<$ model.name $>.del<$ model.Name $>s)
    .post('/<$ model.name $>/save', controllers.<$ model.name $>.save<$ model.Name $>)
    .all(/\/<$ model.name $>\/(|^$)/, proxy('https://baidu.com'))
module.exports = router